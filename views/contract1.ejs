<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>عقد ايجار سيارة</title>
  <link href="https://fonts.googleapis.com/css2?family=Almarai&display=swap" rel="stylesheet" />
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Almarai', sans-serif;
      background: #f9f9f9;
      color: #222;
      line-height: 1.5;
      font-size: 12px;
    }
    .container {
      width: 100%;
      max-width: 210mm;
      min-height: 289mm; /* Full A4 height */
      margin: auto;
      padding: 15mm;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    .person-photo {
      width: 100px;
      height: 90px;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #ccc;
    }
    .person-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .header-texts {
      text-align: center;
      flex: 1;
      font-weight: bold;
      font-size: 16px;
      margin: 0 10px;
    }
    .table2 {
      width: 100%;
      border-collapse: collapse;
      font-size: 10px;
    }
    .table2 th, .table2 td {
      border: 1px solid #999;
      padding: 4px 6px;
      text-align: center;
      height: 30px; /* Increased row height */
    }
    .table2 th {
      background: #ddd;
      font-weight: bold;
      font-size: 11px;
    }
    .table1 {
      width: 100%;
      font-size: 11px;
    }
    .table1 td {
      padding: 0 5px;
      vertical-align: middle;
    }
    .logo {
      width: 160px;
    }
    .signature-table {
      width: 100%;
      margin-top: 10px;
    }
    .signature-text {
      font-size: 10px;
      text-align: right;
    }
    .fingerprint-cell {
      width: 100px;
    }
    .fingerprint {
      width: 100px;
      height: 100px;
      border: 1px solid #94a3b8;
      border-radius: 10px;
      margin: 0 auto;
    }
    .footer-info {
      font-size: 10px;
      text-align: center;
      color: #555;
      margin-top: 4px;
      border-top: 1px solid #ddd;
    }
    @page {
      size: A4;
      margin: 0;
    }
    @media print {
      body {
        background: white;
        height: 100%;
      }
      .container {
        width: 100%;
        min-height: 100%;
        margin: 0;
        padding: 15mm;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div>
      <table class="table1">
        <tr>
          <td style="width: 25%">
            <div style="text-align: right;">
              <p style="margin: 5px 0; font-size: 16px;"><strong>الماس لتاجر السيارات</strong></p>
              <p style="margin: 5px 0; font-size: 16px;"><strong>Almas Car Rental Company</strong></p>
            </div>
          </td>
          <td style="width: 33%; text-align: center;">
            <img class="logo" src="<%= process.env.BASE_URL %>/images/logo.png" alt="logo">
          </td>
          <td style="width: 25%; direction: ltr;">
            <div class="person-photo">
              <img src="<%= contract.tenantID.personalImage %>" alt="صورة">
            </div>
          </td>
        </tr>
      </table>

      <table class="table2">
        <tr>
          <th class="header-texts" colspan="7">عقد ايجار سيارة</th>
        </tr>
        <tr>
          <th colspan="2">رقم العقد<br>Contract NO</th>
          <th colspan="2">موقع الاستخدام<br>Place</th>
          <th colspan="3">تاريخ انتهاء العقد<br>End date</th>
        </tr>
        <tr>
          <td colspan="2"><%= contract.contractNumber %></td>
          <td colspan="2"><%= contract.governorate %></td>
          <td colspan="3"><%= contract.returnDate %></td>
        </tr>

        <tr><th colspan="8">بيانات المستأجر</th></tr>
        <tr>
          <th colspan="2">اسم المستأجر</th>
          <td colspan="3"><%= contract.tenantID.name %></td>
          <th colspan="2">REENTER NAME</th>
        </tr>
        <tr>
          <th colspan="2">عنوان المستأجر</th>
          <td colspan="3"><%= contract.tenantID.houseLocation %></td>
          <th colspan="2">REENTER ADDRESS</th>
        </tr>
        <tr>
          <th colspan="2">رقم الهاتف</th>
          <td colspan="3"><%= contract.tenantID.phone %></td>
          <th colspan="2">REENTER PHONE NO</th>
        </tr>

        <tr>
          <th>نوع التعريف<br>ID Type</th>
          <th colspan="2">رقم التعريف<br>ID NO</th>
          <th colspan="2">جهة الاصدار<br>Issue place</th>
          <th>تاريخ الاصدار<br>ID date</th>
          <th>تاريخ الانتهاء<br>Expire date</th>
        </tr>
        <tr>
          <td><%= contract.tenantID.typeOfIdentification %></td>
          <td colspan="2"><%= contract.tenantID.numberOfIdentification %></td>
          <td colspan="2"> <%= contract.tenantID.issuingAuthority %></td>
          <td><%= contract.tenantID.ReleaseDate %></td>
          <td><%= contract.tenantID.expirationDate %></td>
        </tr>

        <tr>
          <th>الجنسية<br>Nationality</th>
          <th colspan="2">تاريخ الولادة<br>Birthdate</th>
          <th colspan="2">رقم اجازة القيادة<br>License NO</th>
          <th>تاريخ الاصدار<br>Issue date</th>
          <th>تاريخ الانتهاء<br>Expire date</th>
        </tr>
        <tr>
          <td><%= contract.tenantID.nationality %></td>
          <td colspan="2"><%= contract.tenantID.birthDate %></td>
          <td colspan="2"><%= contract.tenantID.drivingLicenseNumber %></td>
          <td><%= contract.tenantID.drivingLicenseIssueDate %></td>
          <td><%= contract.tenantID.drivingLicenseExpirationDate %></td>
        </tr>

        <tr>
          <th colspan="4">Work Address<br>عنوان العمل</th>
          <th colspan="3">Work phone<br>رقم هاتف العمل</th>
        </tr>
        <tr>
          <td colspan="4"><%= contract.tenantID.workLocation %></td>
          <td colspan="3"><%= contract.tenantID.workPhone %></td>
        </tr>

        <tr>
          <th>اسم المركبة<br>Car name</th>
          <th>الرقم<br>Car NO</th>
          <th>النوع<br>Type</th>
          <th>اللون<br>Color</th>
          <th>الموديل<br>Model</th>
          <th>عداد السير<br>Out KM</th>
          <th>سعر الساعة الزائدة<br>Extra Price</th>
        </tr>
        <tr>
          <td><%= contract.carID.name %></td>
          <td><%= contract.carID.carNumber %></td>
          <td><%= contract.carID.carType %></td>
          <td><%= contract.carID.color %></td>
          <td><%= contract.carID.carModel %></td>
          <td><%= contract.walkingCounter %></td>
          <td><%= contract.overtimeCost %> IQD</td>
        </tr>

        <tr>
          <th colspan="2">رقم الشاصي</th>
          <th>رقم السنوية</th>
          <th colspan="2">تاريخ الاستلام</th>
          <th colspan="2">تاريخ التسليم</th>
        </tr>
        <tr>
          <td colspan="2"><%= contract.carID.chassisNumber %></td>
          <td><%= contract.carID.licenseNumber %></td>
          <td colspan="2"><%= contract.contractDate %></td>
          <td colspan="2"><%= contract.returnDate %></td>
        </tr>

        <tr>
          <th>نسبة الوقود<br>Fuel</th>
          <th colspan="2">مدة الايجار<br>Rent Period</th>
          <th colspan="2">ملاحظات الخروج<br>Out Notes</th>
          <th colspan="2">ملاحظات العودة<br>Return notes</th>
        </tr>
        <tr>
          <td><%= contract.fuel%>%</td>
          <td colspan="2"><%= contract.duration %> <%= contract.timeUnit %></td>
          <td colspan="2"><%= contract.note %></td>
          <td colspan="2">لم يتم تسجيل عودة المركبة</td>
        </tr>

        <tr>
          <th colspan="2">السعر اليومي<br>Day Price</th>
          <th>المبلغ الاجمالي<br>Total</th>
          <th colspan="2">المبلغ المدفوع<br>Payment</th>
          <th colspan="2">المبلغ المستحق<br>Remaining</th>
        </tr>
        <tr>
          <td colspan="2">IQD <%=  contract.dailyPrice %></td>
          <td>IQD <%= contract.totalPrice %></td>
          <td colspan="2">IQD <%= contract.pricePaid %></td>
          <td colspan="2">IQD <%= contract.RemainingPrice %></td>
        </tr>
      </table>
    </div>

    <div>
      <table class="signature-table">
        <tr>
          <td style="width: 40%">
            <div class="signature-text">
              <strong>اسم وتوقيع منظم العقد</strong>
              <p style="margin-top: 10px;"><%= contract.userID.name %></p>
            </div>
          </td>
          <td style="width: 40%">
            <div class="signature-text" style="text-align: left;">
              <strong>اسم وبصمة المستأجر</strong>
              <p style="margin-top: 10px;"><%= contract.tenantID.name %> </p>
            </div>
          </td>
          <td style="width: 20%">
            <div class="fingerprint"></div>
          </td>
        </tr>
      </table>

      <div class="footer-info">
        موصل / قرب ترفكلايت المصارف شركة الماس لتاجر السيارات - 07510553432 / 07735256513
      </div>
    </div>
  </div>
</body>
</html>